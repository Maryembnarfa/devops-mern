{"ast":null,"code":"import React,{useState}from'react';import{Button,Input,message,Card,Typography,Row,Col,Tag,Form}from'antd';import{axiosInstance}from'../lib/axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const{Title,Text}=Typography;const TrackDelivery=()=>{const[delivery,setDelivery]=useState(null);const[loading,setLoading]=useState(false);const[form]=Form.useForm();// Utilisation de Form d'Ant Design\nconst handleTrack=async values=>{const{code}=values;// Récupérer la valeur du champ \"code\" depuis les valeurs du formulaire\nsetLoading(true);try{const response=await axiosInstance.get(`/delivry/track/${code}`);setDelivery(response.data.delivery);message.success(\"Commande trouvée !\");}catch(error){message.error(\"Commande non trouvée ou erreur serveur.\");setDelivery(null);}finally{setLoading(false);}};// Fonction pour afficher le statut avec un style personnalisé\nconst renderStatus=status=>{let color='default';switch(status){case'EnAttente':color='orange';break;case'EnDepot':color='blue';break;case'EnCours':color='green';break;case'Livree':color='purple';break;default:color='gray';}return/*#__PURE__*/_jsx(Tag,{color:color,children:status});};return/*#__PURE__*/_jsxs(\"div\",{style:{padding:'40px',maxWidth:'800px',margin:'0 auto'},children:[/*#__PURE__*/_jsx(\"style\",{children:`\n                .ant-input:focus,\n                    .ant-input-focused,\n                    .ant-input-affix-wrapper-focused {\n                        border-color:rgb(189, 37, 27) !important;\n                        box-shadow: 0 0 0 2px rgba(255, 77, 79, 0.2) !important;\n                    }\n                    .ant-input:hover,\n                    .ant-input-affix-wrapper:hover {\n                        border-color: rgb(189, 37, 27) !important;\n                    }\n                `}),/*#__PURE__*/_jsx(Title,{level:2,style:{textAlign:'center',marginBottom:'30px'},children:\"Suivez votre commande\"}),/*#__PURE__*/_jsx(Row,{justify:\"center\",style:{marginBottom:'30px'},children:/*#__PURE__*/_jsx(Col,{span:24,style:{display:'flex',flexDirection:'column',alignItems:'center'},children:/*#__PURE__*/_jsxs(Form,{form:form,onFinish:handleTrack// Soumission du formulaire\n,style:{width:'100%',maxWidth:'500px'},children:[/*#__PURE__*/_jsx(Form.Item,{name:\"code\",label:\"Num\\xE9ro de suivi de votre commande\",labelCol:{span:24},wrapperCol:{span:24},rules:[{required:true,message:'Veuillez entrer un code de commande.'}],style:{display:'block',marginBottom:'24px',textAlign:'left'},children:/*#__PURE__*/_jsx(Input,{placeholder:\"Exemple : 123456789\",style:{width:'100%',height:'40px'}})}),/*#__PURE__*/_jsx(Form.Item,{children:/*#__PURE__*/_jsx(Button,{type:\"primary\",htmlType:\"submit\"// Soumission du formulaire\n,loading:loading,style:{width:'100%',height:'40px',backgroundColor:\"rgb(189, 37, 27)\",borderColor:\"rgb(189, 37, 27)\"},children:\"Confirmer\"})})]})})}),delivery&&/*#__PURE__*/_jsx(Card,{title:\"D\\xE9tails de la commande\",style:{marginTop:'20px',width:'100%',boxShadow:'0 4px 8px rgba(0, 0, 0, 0.1)'},children:/*#__PURE__*/_jsxs(Row,{gutter:[16,16],children:[/*#__PURE__*/_jsx(Col,{span:8,children:/*#__PURE__*/_jsx(Text,{strong:true,children:\"Code:\"})}),/*#__PURE__*/_jsx(Col,{span:16,children:/*#__PURE__*/_jsx(Text,{children:delivery.code})}),/*#__PURE__*/_jsx(Col,{span:8,children:/*#__PURE__*/_jsx(Text,{strong:true,children:\"Client:\"})}),/*#__PURE__*/_jsx(Col,{span:16,children:/*#__PURE__*/_jsx(Text,{children:delivery.client_name})}),/*#__PURE__*/_jsx(Col,{span:8,children:/*#__PURE__*/_jsx(Text,{strong:true,children:\"Statut:\"})}),/*#__PURE__*/_jsx(Col,{span:16,children:renderStatus(delivery.status)})]})})]});};export default TrackDelivery;","map":{"version":3,"names":["React","useState","Button","Input","message","Card","Typography","Row","Col","Tag","Form","axiosInstance","jsx","_jsx","jsxs","_jsxs","Title","Text","TrackDelivery","delivery","setDelivery","loading","setLoading","form","useForm","handleTrack","values","code","response","get","data","success","error","renderStatus","status","color","children","style","padding","maxWidth","margin","level","textAlign","marginBottom","justify","span","display","flexDirection","alignItems","onFinish","width","Item","name","label","labelCol","wrapperCol","rules","required","placeholder","height","type","htmlType","backgroundColor","borderColor","title","marginTop","boxShadow","gutter","strong","client_name"],"sources":["C:/Users/Hp/Desktop/LIVRAISON/client/src/pages/suiviCommande.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Button, Input, message, Card, Typography, Row, Col, Tag, Form } from 'antd';\r\nimport { axiosInstance } from '../lib/axios';\r\n\r\nconst { Title, Text } = Typography;\r\n\r\nconst TrackDelivery = () => {\r\n    const [delivery, setDelivery] = useState(null);\r\n    const [loading, setLoading] = useState(false);\r\n    const [form] = Form.useForm(); // Utilisation de Form d'Ant Design\r\n\r\n    const handleTrack = async (values) => {\r\n        const { code } = values; // Récupérer la valeur du champ \"code\" depuis les valeurs du formulaire\r\n\r\n        setLoading(true);\r\n        try {\r\n            const response = await axiosInstance.get(`/delivry/track/${code}`);\r\n            setDelivery(response.data.delivery);\r\n            message.success(\"Commande trouvée !\");\r\n        } catch (error) {\r\n            message.error(\"Commande non trouvée ou erreur serveur.\");\r\n            setDelivery(null);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    // Fonction pour afficher le statut avec un style personnalisé\r\n    const renderStatus = (status) => {\r\n        let color = 'default';\r\n        switch (status) {\r\n            case 'EnAttente':\r\n                color = 'orange';\r\n                break;\r\n            case 'EnDepot':\r\n                color = 'blue';\r\n                break;\r\n            case 'EnCours':\r\n                color = 'green';\r\n                break;\r\n            case 'Livree':\r\n                color = 'purple';\r\n                break;\r\n            default:\r\n                color = 'gray';\r\n        }\r\n        return <Tag color={color}>{status}</Tag>;\r\n    };\r\n\r\n    return (\r\n        <div style={{ padding: '40px', maxWidth: '800px', margin: '0 auto' }}>\r\n            {/* Ajoutez la balise <style> ici */}\r\n            <style>\r\n                {`\r\n                .ant-input:focus,\r\n                    .ant-input-focused,\r\n                    .ant-input-affix-wrapper-focused {\r\n                        border-color:rgb(189, 37, 27) !important;\r\n                        box-shadow: 0 0 0 2px rgba(255, 77, 79, 0.2) !important;\r\n                    }\r\n                    .ant-input:hover,\r\n                    .ant-input-affix-wrapper:hover {\r\n                        border-color: rgb(189, 37, 27) !important;\r\n                    }\r\n                `}\r\n            </style>\r\n            <Title level={2} style={{ textAlign: 'center', marginBottom: '30px' }}>\r\n                Suivez votre commande\r\n            </Title>\r\n\r\n            <Row justify=\"center\" style={{ marginBottom: '30px' }}>\r\n                <Col span={24} style={{ display: 'flex', flexDirection: 'column', alignItems: 'center' }}>\r\n                    {/* Formulaire avec Form et Form.Item */}\r\n                    <Form\r\n                        form={form}\r\n                        onFinish={handleTrack} // Soumission du formulaire\r\n                        style={{ width: '100%', maxWidth: '500px' }}\r\n                    >\r\n\r\n                        {/* Champ de saisie */}\r\n                        <Form.Item\r\n                            name=\"code\"\r\n                            label=\"Numéro de suivi de votre commande\"\r\n                            labelCol={{ span: 24 }}\r\n                            wrapperCol={{ span: 24 }}\r\n                            rules={[\r\n                                {\r\n                                    required: true,\r\n                                    message: 'Veuillez entrer un code de commande.',\r\n                                },\r\n                            ]}\r\n                            style={{ display: 'block', marginBottom: '24px', textAlign: 'left' }}\r\n                        >\r\n                            <Input\r\n                                placeholder=\"Exemple : 123456789\"\r\n                                style={{ width: '100%', height: '40px' }}\r\n                            />\r\n                        </Form.Item>\r\n\r\n                        {/* Bouton Confirmer */}\r\n                        <Form.Item>\r\n                            <Button\r\n                                type=\"primary\"\r\n                                htmlType=\"submit\" // Soumission du formulaire\r\n                                loading={loading}\r\n                                style={{\r\n                                    width: '100%', height: '40px', backgroundColor: \"rgb(189, 37, 27)\",\r\n                                    borderColor: \"rgb(189, 37, 27)\"\r\n                                }}\r\n                            >\r\n                                Confirmer\r\n                            </Button>\r\n                        </Form.Item>\r\n                    </Form>\r\n                </Col>\r\n            </Row>\r\n\r\n            {delivery && (\r\n                <Card\r\n                    title=\"Détails de la commande\"\r\n                    style={{ marginTop: '20px', width: '100%', boxShadow: '0 4px 8px rgba(0, 0, 0, 0.1)' }}\r\n                >\r\n                    <Row gutter={[16, 16]}>\r\n                        <Col span={8}>\r\n                            <Text strong>Code:</Text>\r\n                        </Col>\r\n                        <Col span={16}>\r\n                            <Text>{delivery.code}</Text>\r\n                        </Col>\r\n\r\n                        <Col span={8}>\r\n                            <Text strong>Client:</Text>\r\n                        </Col>\r\n                        <Col span={16}>\r\n                            <Text>{delivery.client_name}</Text>\r\n                        </Col>\r\n\r\n                        <Col span={8}>\r\n                            <Text strong>Statut:</Text>\r\n                        </Col>\r\n                        <Col span={16}>\r\n                            {renderStatus(delivery.status)}\r\n                        </Col>\r\n                    </Row>\r\n                </Card>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default TrackDelivery;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}