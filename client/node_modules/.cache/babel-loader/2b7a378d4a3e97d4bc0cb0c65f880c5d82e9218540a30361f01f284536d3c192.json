{"ast":null,"code":"import{useMutation,useQueryClient}from\"@tanstack/react-query\";import{Modal,Form,Input,message}from\"antd\";import React from\"react\";import{axiosInstance}from\"../../lib/axios\";import{jsx as _jsx}from\"react/jsx-runtime\";export default function AddVehicle(_ref){let{open,setOpen}=_ref;const[form]=Form.useForm();const queryClient=useQueryClient();const{mutate,isPending}=useMutation({mutationFn:async values=>{const response=await axiosInstance.post(\"/vehicles\",values);return response.data;},onSuccess:data=>{message.success(\"success\");setOpen(false);queryClient.invalidateQueries({queryKey:[\"vehicle\"]});},onError:err=>{console.log(err);}});const handleSubmit=values=>{mutate(values);};return/*#__PURE__*/_jsx(Modal,{open:open,loading:isPending,onCancel:()=>{setOpen(false);form.resetFields();},onOk:()=>form.validateFields().then(values=>handleSubmit(values)).catch(()=>console.log(\"error\")),children:/*#__PURE__*/_jsx(Form,{form:form,name:\"add vehicle\",children:/*#__PURE__*/_jsx(Form.Item,{label:\"Serie\",name:\"serie\",rules:[{required:true}],children:/*#__PURE__*/_jsx(Input,{})})})});}","map":{"version":3,"names":["useMutation","useQueryClient","Modal","Form","Input","message","React","axiosInstance","jsx","_jsx","AddVehicle","_ref","open","setOpen","form","useForm","queryClient","mutate","isPending","mutationFn","values","response","post","data","onSuccess","success","invalidateQueries","queryKey","onError","err","console","log","handleSubmit","loading","onCancel","resetFields","onOk","validateFields","then","catch","children","name","Item","label","rules","required"],"sources":["C:/Users/Hp/Desktop/LIVRAISON/client/src/pages/vehicle/addVehicle.jsx"],"sourcesContent":["import { useMutation, useQueryClient } from \"@tanstack/react-query\";\r\nimport { Modal, Form, Input, message } from \"antd\";\r\nimport React from \"react\";\r\nimport { axiosInstance } from \"../../lib/axios\";\r\n\r\nexport default function AddVehicle({ open, setOpen }) {\r\n    const [form] = Form.useForm();\r\n    const queryClient = useQueryClient();\r\n\r\n    const { mutate, isPending } = useMutation({\r\n        mutationFn: async (values) => {\r\n            const response = await axiosInstance.post(\"/vehicles\", values)\r\n            return response.data\r\n        },\r\n        onSuccess: (data) => {\r\n            message.success(\"success\")\r\n            setOpen(false)\r\n            queryClient.invalidateQueries({ queryKey: [\"vehicle\"] })\r\n        },\r\n        onError: (err) => {\r\n            console.log(err)\r\n        }\r\n    })\r\n\r\n    const handleSubmit = (values) => {\r\n        mutate(values);\r\n    };\r\n\r\n    return (\r\n        <Modal\r\n            open={open}\r\n            loading={isPending}\r\n            onCancel={() => {\r\n                setOpen(false)\r\n                form.resetFields()\r\n            }}\r\n            onOk={() => form.validateFields().then((values) => handleSubmit(values)).catch(() => console.log(\"error\"))}\r\n        >\r\n            <Form form={form} name=\"add vehicle\">\r\n                <Form.Item label=\"Serie\" name=\"serie\" rules={[{ required: true }]}>\r\n                    <Input />\r\n                </Form.Item>\r\n\r\n\r\n            </Form>\r\n        </Modal>\r\n    );\r\n}\r\n"],"mappings":"AAAA,OAASA,WAAW,CAAEC,cAAc,KAAQ,uBAAuB,CACnE,OAASC,KAAK,CAAEC,IAAI,CAAEC,KAAK,CAAEC,OAAO,KAAQ,MAAM,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,aAAa,KAAQ,iBAAiB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAEhD,cAAe,SAAS,CAAAC,UAAUA,CAAAC,IAAA,CAAoB,IAAnB,CAAEC,IAAI,CAAEC,OAAQ,CAAC,CAAAF,IAAA,CAChD,KAAM,CAACG,IAAI,CAAC,CAAGX,IAAI,CAACY,OAAO,CAAC,CAAC,CAC7B,KAAM,CAAAC,WAAW,CAAGf,cAAc,CAAC,CAAC,CAEpC,KAAM,CAAEgB,MAAM,CAAEC,SAAU,CAAC,CAAGlB,WAAW,CAAC,CACtCmB,UAAU,CAAE,KAAO,CAAAC,MAAM,EAAK,CAC1B,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAd,aAAa,CAACe,IAAI,CAAC,WAAW,CAAEF,MAAM,CAAC,CAC9D,MAAO,CAAAC,QAAQ,CAACE,IAAI,CACxB,CAAC,CACDC,SAAS,CAAGD,IAAI,EAAK,CACjBlB,OAAO,CAACoB,OAAO,CAAC,SAAS,CAAC,CAC1BZ,OAAO,CAAC,KAAK,CAAC,CACdG,WAAW,CAACU,iBAAiB,CAAC,CAAEC,QAAQ,CAAE,CAAC,SAAS,CAAE,CAAC,CAAC,CAC5D,CAAC,CACDC,OAAO,CAAGC,GAAG,EAAK,CACdC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,CACpB,CACJ,CAAC,CAAC,CAEF,KAAM,CAAAG,YAAY,CAAIZ,MAAM,EAAK,CAC7BH,MAAM,CAACG,MAAM,CAAC,CAClB,CAAC,CAED,mBACIX,IAAA,CAACP,KAAK,EACFU,IAAI,CAAEA,IAAK,CACXqB,OAAO,CAAEf,SAAU,CACnBgB,QAAQ,CAAEA,CAAA,GAAM,CACZrB,OAAO,CAAC,KAAK,CAAC,CACdC,IAAI,CAACqB,WAAW,CAAC,CAAC,CACtB,CAAE,CACFC,IAAI,CAAEA,CAAA,GAAMtB,IAAI,CAACuB,cAAc,CAAC,CAAC,CAACC,IAAI,CAAElB,MAAM,EAAKY,YAAY,CAACZ,MAAM,CAAC,CAAC,CAACmB,KAAK,CAAC,IAAMT,OAAO,CAACC,GAAG,CAAC,OAAO,CAAC,CAAE,CAAAS,QAAA,cAE3G/B,IAAA,CAACN,IAAI,EAACW,IAAI,CAAEA,IAAK,CAAC2B,IAAI,CAAC,aAAa,CAAAD,QAAA,cAChC/B,IAAA,CAACN,IAAI,CAACuC,IAAI,EAACC,KAAK,CAAC,OAAO,CAACF,IAAI,CAAC,OAAO,CAACG,KAAK,CAAE,CAAC,CAAEC,QAAQ,CAAE,IAAK,CAAC,CAAE,CAAAL,QAAA,cAC9D/B,IAAA,CAACL,KAAK,GAAE,CAAC,CACF,CAAC,CAGV,CAAC,CACJ,CAAC,CAEhB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}