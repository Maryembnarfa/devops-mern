{"ast":null,"code":"import{useMutation,useQueryClient}from\"@tanstack/react-query\";import{Modal,Form,Input,message}from\"antd\";import React from\"react\";import{axiosInstance}from\"../../lib/axios\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function AddDilevery(_ref){let{open,setOpen}=_ref;const[form]=Form.useForm();const queryClient=useQueryClient();const{mutate,isPending}=useMutation({mutationFn:async values=>{const response=await axiosInstance.post(\"/delivry\",values);return response.data;},onSuccess:data=>{message.success(\"success\");setOpen(false);queryClient.invalidateQueries({queryKey:[\"delivery\"]});},onError:err=>{console.log(err);}});const handleSubmit=values=>{mutate(values);};return/*#__PURE__*/_jsx(Modal,{open:open,loading:isPending,onCancel:()=>{setOpen(false);form.resetFields();},onOk:()=>form.validateFields().then(values=>handleSubmit(values)).catch(()=>console.log(\"error\")),children:/*#__PURE__*/_jsxs(Form,{form:form,name:\"add delivery\",children:[/*#__PURE__*/_jsx(Form.Item,{label:\"Client\",name:\"client_name\",rules:[{required:true}],children:/*#__PURE__*/_jsx(Input,{})}),/*#__PURE__*/_jsx(Form.Item,{label:\"Adresse\",name:\"delivery_address\",rules:[{required:true}],children:/*#__PURE__*/_jsx(Input,{})}),/*#__PURE__*/_jsx(Form.Item,{label:\"Gouvernement\",name:\"government\",rules:[{required:true}],children:/*#__PURE__*/_jsx(Input,{})}),/*#__PURE__*/_jsx(Form.Item,{label:\"Phone\",name:\"phone1\",rules:[{required:true}],children:/*#__PURE__*/_jsx(Input,{})}),/*#__PURE__*/_jsx(Form.Item,{label:\"Street\",name:\"street\",rules:[{required:true}],children:/*#__PURE__*/_jsx(Input,{})})]})});}","map":{"version":3,"names":["useMutation","useQueryClient","Modal","Form","Input","message","React","axiosInstance","jsx","_jsx","jsxs","_jsxs","AddDilevery","_ref","open","setOpen","form","useForm","queryClient","mutate","isPending","mutationFn","values","response","post","data","onSuccess","success","invalidateQueries","queryKey","onError","err","console","log","handleSubmit","loading","onCancel","resetFields","onOk","validateFields","then","catch","children","name","Item","label","rules","required"],"sources":["C:/Users/Hp/Desktop/LIVRAISON/client/src/pages/dilevery/addDilevery.jsx"],"sourcesContent":["import { useMutation, useQueryClient } from \"@tanstack/react-query\";\r\nimport { Modal, Form, Input, message } from \"antd\";\r\nimport React from \"react\";\r\nimport { axiosInstance } from \"../../lib/axios\";\r\n\r\nexport default function AddDilevery({ open, setOpen }) {\r\n    const [form] = Form.useForm();\r\n    const queryClient = useQueryClient();\r\n\r\n    const { mutate, isPending } = useMutation({\r\n        mutationFn: async (values) => {\r\n            const response = await axiosInstance.post(\"/delivry\", values)\r\n            return response.data\r\n        },\r\n        onSuccess: (data) => {\r\n            message.success(\"success\")\r\n            setOpen(false)\r\n            queryClient.invalidateQueries({ queryKey: [\"delivery\"] })\r\n        },\r\n        onError: (err) => {\r\n            console.log(err)\r\n        }\r\n    })\r\n\r\n    const handleSubmit = (values) => {\r\n        mutate(values);\r\n    };\r\n\r\n    return (\r\n        <Modal\r\n            open={open}\r\n            loading={isPending}\r\n            onCancel={() => {\r\n                setOpen(false)\r\n                form.resetFields()\r\n            }}\r\n            onOk={() => form.validateFields().then((values) => handleSubmit(values)).catch(() => console.log(\"error\"))}\r\n        >\r\n            <Form form={form} name=\"add delivery\">\r\n                <Form.Item label=\"Client\" name=\"client_name\" rules={[{ required: true }]}>\r\n                    <Input />\r\n                </Form.Item>\r\n                <Form.Item label=\"Adresse\" name=\"delivery_address\" rules={[{ required: true }]}>\r\n                    <Input />\r\n                </Form.Item>\r\n                <Form.Item label=\"Gouvernement\" name=\"government\" rules={[{ required: true }]}>\r\n                    <Input />\r\n                </Form.Item>\r\n                <Form.Item label=\"Phone\" name=\"phone1\" rules={[{ required: true }]}>\r\n                    <Input />\r\n                </Form.Item>\r\n                <Form.Item label=\"Street\" name=\"street\" rules={[{ required: true }]}>\r\n                    <Input />\r\n                </Form.Item>\r\n\r\n\r\n\r\n            </Form>\r\n        </Modal>\r\n    );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}