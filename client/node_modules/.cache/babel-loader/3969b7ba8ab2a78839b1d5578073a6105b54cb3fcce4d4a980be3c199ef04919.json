{"ast":null,"code":"import{useMutation,useQueryClient}from\"@tanstack/react-query\";import{Modal,Form,Input,message,Select}from\"antd\";import React from\"react\";import{axiosInstance}from\"../../lib/axios\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function AddRunSheet(_ref){let{open,setOpen,vehicles,livreurs,livraisons}=_ref;const[form]=Form.useForm();const queryClient=useQueryClient();const{mutate,isPending}=useMutation({mutationFn:async values=>{const response=await axiosInstance.post(\"/runSheet\",values);return response.data;},onSuccess:data=>{message.success(\"success\");setOpen(false);queryClient.invalidateQueries({queryKey:[\"runSheet\"]});},onError:err=>{console.log(err);}});const handleSubmit=values=>{mutate(values);};return/*#__PURE__*/_jsx(Modal,{open:open,loading:isPending,onCancel:()=>{setOpen(false);form.resetFields();},onOk:()=>form.validateFields().then(values=>handleSubmit(values)).catch(()=>console.log(\"error\")),children:/*#__PURE__*/_jsxs(Form,{form:form,name:\"add runSheet\",children:[/*#__PURE__*/_jsx(Form.Item,{label:\"Serie\",name:\"serie\",rules:[{required:true}],children:/*#__PURE__*/_jsx(Select,{placeholder:\"S\\xE9lectionnez une s\\xE9rie\",children:vehicles===null||vehicles===void 0?void 0:vehicles.map(vehicle=>/*#__PURE__*/_jsx(Select.Option,{value:vehicle.serie,children:vehicle.serie},vehicle._id))})}),/*#__PURE__*/_jsx(Form.Item,{label:\"Livreur\",name:\"name_livreur\",rules:[{required:true}],children:/*#__PURE__*/_jsx(Select,{placeholder:\"S\\xE9lectionnez un livreur\",loading:!livreurs,children:livreurs===null||livreurs===void 0?void 0:livreurs.map(livreur=>/*#__PURE__*/_jsx(Select.Option,{value:livreur.name,children:livreur.name},livreur._id))})}),/*#__PURE__*/_jsx(Form.Item,{label:\"Livraisons\",name:\"livraisons\",rules:[{required:true}],children:/*#__PURE__*/_jsx(Select,{mode:\"multiple\"// Permet la sélection multiple\n,placeholder:\"S\\xE9lectionnez les livraisons\",loading:!livraisons,children:livraisons===null||livraisons===void 0?void 0:livraisons.map(livraison=>/*#__PURE__*/_jsx(Select.Option,{value:livraison.code,children:livraison.code},livraison._id))})})]})});}","map":{"version":3,"names":["useMutation","useQueryClient","Modal","Form","Input","message","Select","React","axiosInstance","jsx","_jsx","jsxs","_jsxs","AddRunSheet","_ref","open","setOpen","vehicles","livreurs","livraisons","form","useForm","queryClient","mutate","isPending","mutationFn","values","response","post","data","onSuccess","success","invalidateQueries","queryKey","onError","err","console","log","handleSubmit","loading","onCancel","resetFields","onOk","validateFields","then","catch","children","name","Item","label","rules","required","placeholder","map","vehicle","Option","value","serie","_id","livreur","mode","livraison","code"],"sources":["C:/Users/Hp/Desktop/LIVRAISON/client/src/pages/runSheet/addRunSheet.jsx"],"sourcesContent":["import { useMutation, useQueryClient } from \"@tanstack/react-query\";\r\nimport { Modal, Form, Input, message, Select } from \"antd\";\r\nimport React from \"react\";\r\nimport { axiosInstance } from \"../../lib/axios\";\r\n\r\nexport default function AddRunSheet({ open, setOpen, vehicles, livreurs, livraisons }) {\r\n    const [form] = Form.useForm();\r\n    const queryClient = useQueryClient();\r\n\r\n    const { mutate, isPending } = useMutation({\r\n        mutationFn: async (values) => {\r\n            const response = await axiosInstance.post(\"/runSheet\", values)\r\n            return response.data\r\n        },\r\n        onSuccess: (data) => {\r\n            message.success(\"success\")\r\n            setOpen(false)\r\n            queryClient.invalidateQueries({ queryKey: [\"runSheet\"] })\r\n        },\r\n        onError: (err) => {\r\n            console.log(err)\r\n        }\r\n    })\r\n\r\n    const handleSubmit = (values) => {\r\n        mutate(values);\r\n    };\r\n\r\n    return (\r\n        <Modal\r\n            open={open}\r\n            loading={isPending}\r\n            onCancel={() => {\r\n                setOpen(false)\r\n                form.resetFields()\r\n            }}\r\n            onOk={() => form.validateFields().then((values) => handleSubmit(values)).catch(() => console.log(\"error\"))}\r\n        >\r\n            <Form form={form} name=\"add runSheet\">\r\n                <Form.Item label=\"Serie\" name=\"serie\" rules={[{ required: true }]}>\r\n                    <Select placeholder=\"Sélectionnez une série\">\r\n                        {vehicles?.map(vehicle => (\r\n                            <Select.Option key={vehicle._id} value={vehicle.serie}>\r\n                                {vehicle.serie}\r\n                            </Select.Option>\r\n                        ))}\r\n                    </Select>\r\n                </Form.Item>\r\n                <Form.Item label=\"Livreur\" name=\"name_livreur\" rules={[{ required: true }]}>\r\n                    <Select\r\n                        placeholder=\"Sélectionnez un livreur\"\r\n                        loading={!livreurs}\r\n                    >\r\n                        {livreurs?.map(livreur => (\r\n                            <Select.Option key={livreur._id} value={livreur.name}>\r\n                                {livreur.name}\r\n                            </Select.Option>\r\n                        ))}\r\n                    </Select>\r\n                </Form.Item>\r\n                <Form.Item label=\"Livraisons\" name=\"livraisons\" rules={[{ required: true }]}>\r\n                    <Select\r\n                        mode=\"multiple\" // Permet la sélection multiple\r\n                        placeholder=\"Sélectionnez les livraisons\"\r\n                        loading={!livraisons}\r\n                    >\r\n                        {livraisons?.map(livraison => (\r\n                            <Select.Option key={livraison._id} value={livraison.code}>\r\n                                {livraison.code}\r\n                            </Select.Option>\r\n                        ))}\r\n                    </Select>\r\n                </Form.Item>\r\n\r\n\r\n\r\n            </Form>\r\n        </Modal>\r\n    );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}