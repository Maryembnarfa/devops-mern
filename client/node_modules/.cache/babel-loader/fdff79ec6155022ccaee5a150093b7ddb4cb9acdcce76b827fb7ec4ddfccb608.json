{"ast":null,"code":"var __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport { Circle, Line } from '@antv/g';\nimport { sort, group, mean, bisector, minIndex } from '@antv/vendor/d3-array';\nimport { deepMix, lowerFirst, throttle } from '@antv/util';\nimport { Tooltip as TooltipComponent } from '@antv/component';\nimport { Constant, Band } from '@antv/scale';\nimport { defined, subObject } from '../utils/helper';\nimport { isTranspose, isPolar } from '../utils/coordinate';\nimport { angle, sub, dist } from '../utils/vector';\nimport { invert } from '../utils/scale';\nimport { selectG2Elements, createXKey, selectPlotArea, mousePosition, selectFacetG2Elements, createDatumof, selectElementByData, bboxOf, maybeRoot } from './utils';\nimport { dataOf } from './event';\nfunction getContainer(group, mount) {\n  if (mount) {\n    return typeof mount === 'string' ? document.querySelector(mount) : mount;\n  }\n  const canvas = group.ownerDocument.defaultView.getContextService().getDomElement();\n  return canvas.parentElement;\n}\nfunction getBounding(root) {\n  const bbox = root.getRenderBounds();\n  const {\n    min: [x1, y1],\n    max: [x2, y2]\n  } = bbox;\n  return {\n    x: x1,\n    y: y1,\n    width: x2 - x1,\n    height: y2 - y1\n  };\n}\nfunction getContainerOffset(container1, container2) {\n  const r1 = container1.getBoundingClientRect();\n  const r2 = container2.getBoundingClientRect();\n  return {\n    x: r1.x - r2.x,\n    y: r1.y - r2.y\n  };\n}\nfunction createTooltip(container, x0, y0, position, enterable, bounding, containerOffset) {\n  let css = arguments.length > 7 && arguments[7] !== undefined ? arguments[7] : {};\n  let offset = arguments.length > 8 && arguments[8] !== undefined ? arguments[8] : [10, 10];\n  const defaults = {\n    '.g2-tooltip': {},\n    '.g2-tooltip-title': {\n      overflow: 'hidden',\n      'white-space': 'nowrap',\n      'text-overflow': 'ellipsis'\n    }\n  };\n  const tooltipElement = new TooltipComponent({\n    className: 'tooltip',\n    style: {\n      x: x0,\n      y: y0,\n      container: containerOffset,\n      data: [],\n      bounding,\n      position,\n      enterable,\n      title: '',\n      offset,\n      template: {\n        prefixCls: 'g2-'\n      },\n      style: deepMix(defaults, css)\n    }\n  });\n  container.appendChild(tooltipElement.HTMLTooltipElement);\n  return tooltipElement;\n}\nfunction showTooltip(_ref) {\n  let {\n    root,\n    data,\n    x,\n    y,\n    render,\n    event,\n    single,\n    position = 'right-bottom',\n    enterable = false,\n    css,\n    mount,\n    bounding,\n    offset\n  } = _ref;\n  const container = getContainer(root, mount);\n  const canvasContainer = getContainer(root);\n  // All the views share the same tooltip.\n  const parent = single ? canvasContainer : root;\n  const b = bounding || getBounding(root);\n  const containerOffset = getContainerOffset(canvasContainer, container);\n  const {\n    tooltipElement = createTooltip(container, x, y, position, enterable, b, containerOffset, css, offset)\n  } = parent;\n  const {\n    items,\n    title = ''\n  } = data;\n  tooltipElement.update(Object.assign({\n    x,\n    y,\n    data: items,\n    title,\n    position,\n    enterable,\n    container: containerOffset\n  }, render !== undefined && {\n    content: render(event, {\n      items,\n      title\n    })\n  }));\n  parent.tooltipElement = tooltipElement;\n}\nfunction hideTooltip(_ref2) {\n  let {\n    root,\n    single,\n    emitter,\n    nativeEvent = true,\n    event = null\n  } = _ref2;\n  if (nativeEvent) {\n    emitter.emit('tooltip:hide', {\n      nativeEvent\n    });\n  }\n  const container = getContainer(root);\n  const parent = single ? container : root;\n  const {\n    tooltipElement\n  } = parent;\n  if (tooltipElement) {\n    // Must be clientX, clientY.\n    tooltipElement.hide(event === null || event === void 0 ? void 0 : event.clientX, event === null || event === void 0 ? void 0 : event.clientY);\n  }\n  hideRuleY(root);\n  hideRuleX(root);\n  hideMarker(root);\n}\nfunction destroyTooltip(_ref3) {\n  let {\n    root,\n    single\n  } = _ref3;\n  const container = getContainer(root);\n  const parent = single ? container : root;\n  if (!parent) return;\n  const {\n    tooltipElement\n  } = parent;\n  if (tooltipElement) {\n    tooltipElement.destroy();\n    parent.tooltipElement = undefined;\n  }\n  hideRuleY(root);\n  hideRuleX(root);\n  hideMarker(root);\n}\nfunction showUndefined(item) {\n  const {\n    value\n  } = item;\n  return Object.assign(Object.assign({}, item), {\n    value: value === undefined ? 'undefined' : value\n  });\n}\nfunction singleItem(element) {\n  const {\n    __data__: datum\n  } = element;\n  const {\n    title,\n    items = []\n  } = datum;\n  const newItems = items.filter(defined).map(_a => {\n    var {\n        color = itemColorOf(element)\n      } = _a,\n      item = __rest(_a, [\"color\"]);\n    return Object.assign(Object.assign({}, item), {\n      color\n    });\n  }).map(showUndefined);\n  return Object.assign(Object.assign({}, title && {\n    title\n  }), {\n    items: newItems\n  });\n}\nfunction groupNameOf(scale, datum) {\n  const {\n    color: scaleColor,\n    series: scaleSeries,\n    facet = false\n  } = scale;\n  const {\n    color,\n    series\n  } = datum;\n  const invertAble = scale => {\n    return scale && scale.invert && !(scale instanceof Band) && !(scale instanceof Constant);\n  };\n  // For non constant color channel.\n  if (invertAble(scaleSeries)) {\n    const cloned = scaleSeries.clone();\n    return cloned.invert(series);\n  }\n  if (series && scaleSeries instanceof Band && scaleSeries.invert(series) !== color && !facet) {\n    return scaleSeries.invert(series);\n  }\n  if (invertAble(scaleColor)) {\n    const name = scaleColor.invert(color);\n    // For threshold scale.\n    if (Array.isArray(name)) return null;\n    return name;\n  }\n  return null;\n}\nfunction itemColorOf(element) {\n  const fill = element.getAttribute('fill');\n  const stroke = element.getAttribute('stroke');\n  const {\n    __data__: datum\n  } = element;\n  const {\n    color = fill && fill !== 'transparent' ? fill : stroke\n  } = datum;\n  return color;\n}\nfunction unique(items) {\n  let key = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : d => d;\n  const valueName = new Map(items.map(d => [key(d), d]));\n  return Array.from(valueName.values());\n}\nfunction groupItems(elements, scale, groupName) {\n  let data = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : elements.map(d => d['__data__']);\n  let theme = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {};\n  const key = d => d instanceof Date ? +d : d;\n  const T = unique(data.map(d => d.title), key).filter(defined);\n  const newItems = data.flatMap((datum, i) => {\n    const element = elements[i];\n    const {\n      items = [],\n      title\n    } = datum;\n    const definedItems = items.filter(defined);\n    // If there is only one item, use groupName as title by default.\n    const useGroupName = groupName !== undefined ? groupName : items.length <= 1 ? true : false;\n    return definedItems.map(_a => {\n      var {\n          color = itemColorOf(element) || theme.color,\n          name\n        } = _a,\n        item = __rest(_a, [\"color\", \"name\"]);\n      const groupName = groupNameOf(scale, datum);\n      const name1 = useGroupName ? groupName || name : name || groupName;\n      return Object.assign(Object.assign({}, item), {\n        color,\n        name: name1 || title\n      });\n    });\n  }).map(showUndefined);\n  return Object.assign(Object.assign({}, T.length > 0 && {\n    title: T.join(',')\n  }), {\n    items: unique(newItems, d => `(${key(d.name)}, ${key(d.value)}, ${key(d.color)})`)\n  });\n}\nfunction updateRuleX(root, points, mouse, _a) {\n  var {\n      plotWidth,\n      plotHeight,\n      mainWidth,\n      mainHeight,\n      startX,\n      startY,\n      transposed,\n      polar,\n      insetLeft,\n      insetTop\n    } = _a,\n    rest = __rest(_a, [\"plotWidth\", \"plotHeight\", \"mainWidth\", \"mainHeight\", \"startX\", \"startY\", \"transposed\", \"polar\", \"insetLeft\", \"insetTop\"]);\n  const defaults = Object.assign({\n    lineWidth: 1,\n    stroke: '#1b1e23',\n    strokeOpacity: 0.5\n  }, rest);\n  const createCircle = (cx, cy, r) => {\n    const circle = new Circle({\n      style: Object.assign({\n        cx,\n        cy,\n        r\n      }, defaults)\n    });\n    root.appendChild(circle);\n    return circle;\n  };\n  const createLine = (x1, x2, y1, y2) => {\n    const line = new Line({\n      style: Object.assign({\n        x1,\n        x2,\n        y1,\n        y2\n      }, defaults)\n    });\n    root.appendChild(line);\n    return line;\n  };\n  const minDistPoint = (mouse, points) => {\n    // only one point do not need compute\n    if (points.length === 1) {\n      return points[0];\n    }\n    const dists = points.map(p => dist(p, mouse));\n    const minDistIndex = minIndex(dists, d => d);\n    return points[minDistIndex];\n  };\n  const target = minDistPoint(mouse, points);\n  const pointsOf = () => {\n    if (transposed) return [startX + target[0], startX + target[0], startY, startY + plotHeight];\n    return [startX, startX + plotWidth, target[1] + startY, target[1] + startY];\n  };\n  const pointsOfPolar = () => {\n    const cx = startX + insetLeft + mainWidth / 2;\n    const cy = startY + insetTop + mainHeight / 2;\n    const cdist = dist([cx, cy], target);\n    return [cx, cy, cdist];\n  };\n  if (polar) {\n    const [cx, cy, r] = pointsOfPolar();\n    const ruleX = root.ruleX || createCircle(cx, cy, r);\n    ruleX.style.cx = cx;\n    ruleX.style.cy = cy;\n    ruleX.style.r = r;\n    root.ruleX = ruleX;\n  } else {\n    const [x1, x2, y1, y2] = pointsOf();\n    const ruleX = root.ruleX || createLine(x1, x2, y1, y2);\n    ruleX.style.x1 = x1;\n    ruleX.style.x2 = x2;\n    ruleX.style.y1 = y1;\n    ruleX.style.y2 = y2;\n    root.ruleX = ruleX;\n  }\n}\nfunction updateRuleY(root, points, _a) {\n  var {\n      plotWidth,\n      plotHeight,\n      mainWidth,\n      mainHeight,\n      startX,\n      startY,\n      transposed,\n      polar,\n      insetLeft,\n      insetTop\n    } = _a,\n    rest = __rest(_a, [\"plotWidth\", \"plotHeight\", \"mainWidth\", \"mainHeight\", \"startX\", \"startY\", \"transposed\", \"polar\", \"insetLeft\", \"insetTop\"]);\n  const defaults = Object.assign({\n    lineWidth: 1,\n    stroke: '#1b1e23',\n    strokeOpacity: 0.5\n  }, rest);\n  const Y = points.map(p => p[1]);\n  const X = points.map(p => p[0]);\n  const y = mean(Y);\n  const x = mean(X);\n  const pointsOf = () => {\n    if (polar) {\n      const r = Math.min(mainWidth, mainHeight) / 2;\n      const cx = startX + insetLeft + mainWidth / 2;\n      const cy = startY + insetTop + mainHeight / 2;\n      const a = angle(sub([x, y], [cx, cy]));\n      const x0 = cx + r * Math.cos(a);\n      const y0 = cy + r * Math.sin(a);\n      return [cx, x0, cy, y0];\n    }\n    if (transposed) return [startX, startX + plotWidth, y + startY, y + startY];\n    return [x + startX, x + startX, startY, startY + plotHeight];\n  };\n  const [x1, x2, y1, y2] = pointsOf();\n  const createLine = () => {\n    const line = new Line({\n      style: Object.assign({\n        x1,\n        x2,\n        y1,\n        y2\n      }, defaults)\n    });\n    root.appendChild(line);\n    return line;\n  };\n  // Only update rule with defined series elements.\n  if (X.length > 0) {\n    const ruleY = root.ruleY || createLine();\n    ruleY.style.x1 = x1;\n    ruleY.style.x2 = x2;\n    ruleY.style.y1 = y1;\n    ruleY.style.y2 = y2;\n    root.ruleY = ruleY;\n  }\n}\nfunction hideRuleY(root) {\n  if (root.ruleY) {\n    root.ruleY.remove();\n    root.ruleY = undefined;\n  }\n}\nfunction hideRuleX(root) {\n  if (root.ruleX) {\n    root.ruleX.remove();\n    root.ruleX = undefined;\n  }\n}\nfunction updateMarker(root, _ref4) {\n  let {\n    data,\n    style,\n    theme\n  } = _ref4;\n  if (root.markers) root.markers.forEach(d => d.remove());\n  const {\n    type = ''\n  } = style;\n  const markers = data.filter(d => {\n    const [{\n      x,\n      y\n    }] = d;\n    return defined(x) && defined(y);\n  }).map(d => {\n    const [{\n      color,\n      element\n    }, point] = d;\n    const originColor = color ||\n    // encode value\n    element.style.fill || element.style.stroke || theme.color;\n    const fill = type === 'hollow' ? 'transparent' : originColor;\n    const stroke = type === 'hollow' ? originColor : '#fff';\n    const shape = new Circle({\n      className: 'g2-tooltip-marker',\n      style: Object.assign({\n        cx: point[0],\n        cy: point[1],\n        fill,\n        r: 4,\n        stroke,\n        lineWidth: 2\n      }, style)\n    });\n    return shape;\n  });\n  for (const marker of markers) root.appendChild(marker);\n  root.markers = markers;\n}\nfunction hideMarker(root) {\n  if (root.markers) {\n    root.markers.forEach(d => d.remove());\n    root.markers = [];\n  }\n}\nfunction interactionKeyof(markState, key) {\n  return Array.from(markState.values()).some(\n  // @ts-ignore\n  d => {\n    var _a;\n    return (_a = d.interaction) === null || _a === void 0 ? void 0 : _a[key];\n  });\n}\nfunction maybeValue(specified, defaults) {\n  return specified === undefined ? defaults : specified;\n}\nfunction isEmptyTooltipData(data) {\n  const {\n    title,\n    items\n  } = data;\n  if (items.length === 0 && title === undefined) return true;\n  return false;\n}\nfunction hasSeries(markState) {\n  return Array.from(markState.values()).some(\n  // @ts-ignore\n  d => {\n    var _a;\n    return ((_a = d.interaction) === null || _a === void 0 ? void 0 : _a.seriesTooltip) && d.tooltip;\n  });\n}\n/**\n * Show tooltip for series item.\n */\nexport function seriesTooltip(root, _a) {\n  var {\n      elements: elementsof,\n      sort: sortFunction,\n      filter: filterFunction,\n      scale,\n      coordinate,\n      crosshairs,\n      crosshairsX,\n      crosshairsY,\n      render,\n      groupName,\n      emitter,\n      wait = 50,\n      leading = true,\n      trailing = false,\n      startX = 0,\n      startY = 0,\n      body = true,\n      single = true,\n      position,\n      enterable,\n      mount,\n      bounding,\n      theme,\n      offset,\n      disableNative = false,\n      marker = true,\n      preserve = false,\n      style: _style = {},\n      css = {}\n    } = _a,\n    rest = __rest(_a, [\"elements\", \"sort\", \"filter\", \"scale\", \"coordinate\", \"crosshairs\", \"crosshairsX\", \"crosshairsY\", \"render\", \"groupName\", \"emitter\", \"wait\", \"leading\", \"trailing\", \"startX\", \"startY\", \"body\", \"single\", \"position\", \"enterable\", \"mount\", \"bounding\", \"theme\", \"offset\", \"disableNative\", \"marker\", \"preserve\", \"style\", \"css\"]);\n  const elements = elementsof(root);\n  const transposed = isTranspose(coordinate);\n  const polar = isPolar(coordinate);\n  const style = deepMix(_style, rest);\n  const {\n    innerWidth: plotWidth,\n    innerHeight: plotHeight,\n    width: mainWidth,\n    height: mainHeight,\n    insetLeft,\n    insetTop\n  } = coordinate.getOptions();\n  // Split elements into series elements and item elements.\n  const seriesElements = [];\n  const itemElements = [];\n  for (const element of elements) {\n    const {\n      __data__: data\n    } = element;\n    const {\n      seriesX,\n      title,\n      items\n    } = data;\n    if (seriesX) seriesElements.push(element);else if (title || items) itemElements.push(element);\n  }\n  const inInterval = d => d.markType === 'interval';\n  const isBar = itemElements.length && itemElements.every(inInterval) && !isPolar(coordinate);\n  const xof = d => d.__data__.x;\n  // For band scale x, find the closest series element to focus,\n  // useful for interval + line mark.\n  const isBandScale = !!scale.x.getBandWidth;\n  const closest = isBandScale && itemElements.length > 0;\n  // Sorted elements from top to bottom visually,\n  // or from right to left in transpose coordinate.\n  seriesElements.sort((a, b) => {\n    const index = transposed ? 0 : 1;\n    const minY = d => d.getBounds().min[index];\n    return transposed ? minY(b) - minY(a) : minY(a) - minY(b);\n  });\n  const extent = d => {\n    const index = transposed ? 1 : 0;\n    const {\n      min,\n      max\n    } = d.getLocalBounds();\n    return sort([min[index], max[index]]);\n  };\n  // Sort itemElements for bisector search.\n  if (isBar) elements.sort((a, b) => xof(a) - xof(b));else {\n    itemElements.sort((a, b) => {\n      const [minA, maxA] = extent(a);\n      const [minB, maxB] = extent(b);\n      const midA = (minA + maxA) / 2;\n      const midB = (minB + maxB) / 2;\n      return transposed ? midB - midA : midA - midB;\n    });\n  }\n  // Get sortedIndex and X for each series elements\n  const elementSortedX = new Map(seriesElements.map(element => {\n    const {\n      __data__: data\n    } = element;\n    const {\n      seriesX\n    } = data;\n    const seriesIndex = seriesX.map((_, i) => i);\n    const sortedIndex = sort(seriesIndex, i => seriesX[+i]);\n    return [element, [sortedIndex, seriesX]];\n  }));\n  const {\n    x: scaleX\n  } = scale;\n  // Apply offset for band scale x.\n  const offsetX = (scaleX === null || scaleX === void 0 ? void 0 : scaleX.getBandWidth) ? scaleX.getBandWidth() / 2 : 0;\n  const abstractX = focus => {\n    const [normalizedX] = coordinate.invert(focus);\n    return normalizedX - offsetX;\n  };\n  const indexByFocus = (event, focus, I, X) => {\n    // _x is from emit event, to find the right element.\n    const {\n      _x\n    } = event;\n    const finalX = _x !== undefined ? scaleX.map(_x) : abstractX(focus);\n    const DX = X.filter(defined);\n    const [minX, maxX] = sort([DX[0], DX[DX.length - 1]]);\n    // If only has one element(minX == maxX), show tooltip when hover whole chart\n    const isOnlyOneElement = minX === maxX;\n    // If closest is true, always find at least one element.\n    // Otherwise, skip element out of plot area.\n    if (!closest && (finalX < minX || finalX > maxX) && !isOnlyOneElement) return null;\n    const search = bisector(i => X[+i]).center;\n    const i = search(I, finalX);\n    return I[i];\n  };\n  const elementsByFocus = isBar ? (focus, elements) => {\n    const search = bisector(xof).center;\n    const i = search(elements, abstractX(focus));\n    const find = elements[i];\n    const groups = group(elements, xof);\n    const selected = groups.get(xof(find));\n    return selected;\n  } : (focus, elements) => {\n    const index = transposed ? 1 : 0;\n    const x = focus[index];\n    const filtered = elements.filter(element => {\n      const [min, max] = extent(element);\n      return x >= min && x <= max;\n    });\n    // If closet is true, always find at least one element.\n    if (!closest || filtered.length > 0) return filtered;\n    // Search the closet element to the focus.\n    const search = bisector(element => {\n      const [min, max] = extent(element);\n      return (min + max) / 2;\n    }).center;\n    const i = search(elements, x);\n    return [elements[i]].filter(defined);\n  };\n  const seriesData = (element, index) => {\n    const {\n      __data__: data\n    } = element;\n    return Object.fromEntries(Object.entries(data).filter(_ref5 => {\n      let [key] = _ref5;\n      return key.startsWith('series') && key !== 'series';\n    }).map(_ref6 => {\n      let [key, V] = _ref6;\n      const d = V[index];\n      return [lowerFirst(key.replace('series', '')), d];\n    }));\n  };\n  const update = throttle(event => {\n    var _a;\n    const mouse = mousePosition(root, event);\n    if (!mouse) return;\n    const bbox = bboxOf(root);\n    const x = bbox.min[0];\n    const y = bbox.min[1];\n    const focus = [mouse[0] - startX, mouse[1] - startY];\n    if (!focus) return;\n    // Get selected item element.\n    const selectedItems = elementsByFocus(focus, itemElements);\n    // Get selected data item from both series element and item element.\n    const selectedSeriesElements = [];\n    const selectedSeriesData = [];\n    for (const element of seriesElements) {\n      const [sortedIndex, X] = elementSortedX.get(element);\n      const index = indexByFocus(event, focus, sortedIndex, X);\n      if (index !== null) {\n        selectedSeriesElements.push(element);\n        const d = seriesData(element, index);\n        const {\n          x,\n          y\n        } = d;\n        const p = coordinate.map([(x || 0) + offsetX, y || 0]);\n        selectedSeriesData.push([Object.assign(Object.assign({}, d), {\n          element\n        }), p]);\n      }\n    }\n    // Filter selectedSeriesData with different x,\n    // make sure there is only one x closest to focusX.\n    const SX = Array.from(new Set(selectedSeriesData.map(d => d[0].x)));\n    const closestX = SX[minIndex(SX, x => Math.abs(x - abstractX(focus)))];\n    const filteredSeriesData = selectedSeriesData.filter(d => d[0].x === closestX);\n    const selectedData = [...filteredSeriesData.map(d => d[0]), ...selectedItems.map(d => d.__data__)];\n    // Get the displayed tooltip data.\n    const selectedElements = [...selectedSeriesElements, ...selectedItems];\n    const tooltipData = groupItems(selectedElements, scale, groupName, selectedData, theme);\n    // Sort items and filter items.\n    if (sortFunction) {\n      tooltipData.items.sort((a, b) => sortFunction(a) - sortFunction(b));\n    }\n    if (filterFunction) {\n      tooltipData.items = tooltipData.items.filter(filterFunction);\n    }\n    // Hide tooltip with no selected tooltip.\n    if (selectedElements.length === 0 || isEmptyTooltipData(tooltipData)) {\n      hide(event);\n      return;\n    }\n    if (body) {\n      showTooltip({\n        root,\n        data: tooltipData,\n        x: mouse[0] + x,\n        y: mouse[1] + y,\n        render,\n        event,\n        single,\n        position,\n        enterable,\n        mount,\n        bounding,\n        css,\n        offset\n      });\n    }\n    if (crosshairs || crosshairsX || crosshairsY) {\n      const ruleStyle = subObject(style, 'crosshairs');\n      const ruleStyleX = Object.assign(Object.assign({}, ruleStyle), subObject(style, 'crosshairsX'));\n      const ruleStyleY = Object.assign(Object.assign({}, ruleStyle), subObject(style, 'crosshairsY'));\n      const points = filteredSeriesData.map(d => d[1]);\n      if (crosshairsX) {\n        updateRuleX(root, points, mouse, Object.assign(Object.assign({}, ruleStyleX), {\n          plotWidth,\n          plotHeight,\n          mainWidth,\n          mainHeight,\n          insetLeft,\n          insetTop,\n          startX,\n          startY,\n          transposed,\n          polar\n        }));\n      }\n      if (crosshairsY) {\n        updateRuleY(root, points, Object.assign(Object.assign({}, ruleStyleY), {\n          plotWidth,\n          plotHeight,\n          mainWidth,\n          mainHeight,\n          insetLeft,\n          insetTop,\n          startX,\n          startY,\n          transposed,\n          polar\n        }));\n      }\n    }\n    if (marker) {\n      const markerStyles = subObject(style, 'marker');\n      updateMarker(root, {\n        data: filteredSeriesData,\n        style: markerStyles,\n        theme\n      });\n    }\n    // X in focus may related multiple points when dataset is large,\n    // so we need to find the first x to show tooltip.\n    const firstX = (_a = filteredSeriesData[0]) === null || _a === void 0 ? void 0 : _a[0].x;\n    const transformedX = firstX !== null && firstX !== void 0 ? firstX : abstractX(focus);\n    emitter.emit('tooltip:show', Object.assign(Object.assign({}, event), {\n      nativeEvent: true,\n      data: Object.assign(Object.assign({}, tooltipData), {\n        data: {\n          x: invert(scale.x, transformedX, true)\n        }\n      })\n    }));\n  }, wait, {\n    leading,\n    trailing\n  });\n  const hide = event => {\n    hideTooltip({\n      root,\n      single,\n      emitter,\n      event\n    });\n  };\n  const destroy = () => {\n    destroyTooltip({\n      root,\n      single\n    });\n  };\n  const onTooltipShow = _a => {\n    var _b;\n    var {\n        nativeEvent,\n        data,\n        offsetX,\n        offsetY\n      } = _a,\n      rest = __rest(_a, [\"nativeEvent\", \"data\", \"offsetX\", \"offsetY\"]);\n    if (nativeEvent) return;\n    const x = (_b = data === null || data === void 0 ? void 0 : data.data) === null || _b === void 0 ? void 0 : _b.x;\n    const scaleX = scale.x;\n    const x1 = scaleX.map(x);\n    const [x2, y2] = coordinate.map([x1, 0.5]);\n    const rootBounds = root.getRenderBounds();\n    const minX = rootBounds.min[0];\n    const minY = rootBounds.min[1];\n    update(Object.assign(Object.assign({}, rest), {\n      offsetX: offsetX !== undefined ? offsetX : minX + x2,\n      offsetY: offsetY !== undefined ? offsetY : minY + y2,\n      _x: x\n    }));\n  };\n  const onTooltipHide = () => {\n    hideTooltip({\n      root,\n      single,\n      emitter,\n      nativeEvent: false\n    });\n  };\n  const onTooltipDisable = () => {\n    removeEventListeners();\n    destroy();\n  };\n  const onTooltipEnable = () => {\n    addEventListeners();\n  };\n  const addEventListeners = () => {\n    if (!disableNative) {\n      root.addEventListener('pointerenter', update);\n      root.addEventListener('pointermove', update);\n      // Only emit pointerleave event when the pointer is not in the root area.\n      root.addEventListener('pointerleave', e => {\n        if (mousePosition(root, e)) return;\n        hide(e);\n      });\n    }\n  };\n  const removeEventListeners = () => {\n    if (!disableNative) {\n      root.removeEventListener('pointerenter', update);\n      root.removeEventListener('pointermove', update);\n      root.removeEventListener('pointerleave', hide);\n    }\n  };\n  addEventListeners();\n  emitter.on('tooltip:show', onTooltipShow);\n  emitter.on('tooltip:hide', onTooltipHide);\n  emitter.on('tooltip:disable', onTooltipDisable);\n  emitter.on('tooltip:enable', onTooltipEnable);\n  return () => {\n    removeEventListeners();\n    emitter.off('tooltip:show', onTooltipShow);\n    emitter.off('tooltip:hide', onTooltipHide);\n    emitter.off('tooltip:disable', onTooltipDisable);\n    emitter.off('tooltip:enable', onTooltipEnable);\n    if (preserve) {\n      hideTooltip({\n        root,\n        single,\n        emitter,\n        nativeEvent: false\n      });\n    } else {\n      destroy();\n    }\n  };\n}\n/**\n * Show tooltip for non-series item.\n */\nexport function tooltip(root, _ref7) {\n  let {\n    elements: elementsof,\n    coordinate,\n    scale,\n    render,\n    groupName,\n    sort: sortFunction,\n    filter: filterFunction,\n    emitter,\n    wait = 50,\n    leading = true,\n    trailing = false,\n    groupKey = d => d,\n    // group elements by specified key\n    single = true,\n    position,\n    enterable,\n    datum,\n    view,\n    mount,\n    bounding,\n    theme,\n    offset,\n    shared = false,\n    body = true,\n    disableNative = false,\n    preserve = false,\n    css = {}\n  } = _ref7;\n  var _a, _b;\n  const elements = elementsof(root);\n  const keyGroup = group(elements, groupKey);\n  const inInterval = d => d.markType === 'interval';\n  const isBar = elements.every(inInterval) && !isPolar(coordinate);\n  const scaleX = scale.x;\n  const scaleSeries = scale.series;\n  const bandWidth = (_b = (_a = scaleX === null || scaleX === void 0 ? void 0 : scaleX.getBandWidth) === null || _a === void 0 ? void 0 : _a.call(scaleX)) !== null && _b !== void 0 ? _b : 0;\n  const xof = scaleSeries ? d => {\n    const seriesCount = Math.round(1 / scaleSeries.valueBandWidth);\n    return d.__data__.x + d.__data__.series * bandWidth + bandWidth / (seriesCount * 2);\n  } : d => d.__data__.x + bandWidth / 2;\n  // Sort for bisector search.\n  if (isBar) elements.sort((a, b) => xof(a) - xof(b));\n  const findElementByTarget = event => {\n    const {\n      target\n    } = event;\n    return maybeRoot(target, node => {\n      if (!node.classList) return false;\n      return node.classList.includes('element');\n    });\n  };\n  const findElement = isBar ? event => {\n    const mouse = mousePosition(root, event);\n    if (!mouse) return;\n    const [abstractX] = coordinate.invert(mouse);\n    const search = bisector(xof).center;\n    const i = search(elements, abstractX);\n    const target = elements[i];\n    if (!shared) {\n      // For grouped bar chart without shared options.\n      const isGrouped = elements.find(d => d !== target && xof(d) === xof(target));\n      if (isGrouped) return findElementByTarget(event);\n    }\n    return target;\n  } : findElementByTarget;\n  const pointermove = throttle(event => {\n    const element = findElement(event);\n    if (!element) {\n      hideTooltip({\n        root,\n        single,\n        emitter,\n        event\n      });\n      return;\n    }\n    const k = groupKey(element);\n    const group = keyGroup.get(k);\n    if (!group) {\n      return;\n    }\n    const data = group.length === 1 && !shared ? singleItem(group[0]) : groupItems(group, scale, groupName, undefined, theme);\n    // Sort items and sort.\n    if (sortFunction) {\n      data.items.sort((a, b) => sortFunction(a) - sortFunction(b));\n    }\n    if (filterFunction) {\n      data.items = data.items.filter(filterFunction);\n    }\n    if (isEmptyTooltipData(data)) {\n      hideTooltip({\n        root,\n        single,\n        emitter,\n        event\n      });\n      return;\n    }\n    const {\n      offsetX,\n      offsetY\n    } = event;\n    if (body) {\n      showTooltip({\n        root,\n        data,\n        x: offsetX,\n        y: offsetY,\n        render,\n        event,\n        single,\n        position,\n        enterable,\n        mount,\n        bounding,\n        css,\n        offset\n      });\n    }\n    emitter.emit('tooltip:show', Object.assign(Object.assign({}, event), {\n      nativeEvent: true,\n      data: Object.assign(Object.assign({}, data), {\n        data: dataOf(element, view)\n      })\n    }));\n  }, wait, {\n    leading,\n    trailing\n  });\n  const pointerleave = event => {\n    hideTooltip({\n      root,\n      single,\n      emitter,\n      event\n    });\n  };\n  const addEventListeners = () => {\n    if (!disableNative) {\n      root.addEventListener('pointermove', pointermove);\n      // Only emit pointerleave event when the pointer is not in the root area.\n      // !!!DO NOT USE pointerout event, it will emit when the pointer is in the child area.\n      root.addEventListener('pointerleave', pointerleave);\n    }\n  };\n  const removeEventListeners = () => {\n    if (!disableNative) {\n      root.removeEventListener('pointermove', pointermove);\n      root.removeEventListener('pointerleave', pointerleave);\n    }\n  };\n  const onTooltipShow = _ref8 => {\n    let {\n      nativeEvent,\n      offsetX,\n      offsetY,\n      data: raw\n    } = _ref8;\n    if (nativeEvent) return;\n    const {\n      data\n    } = raw;\n    const element = selectElementByData(elements, data, datum);\n    if (!element) return;\n    const bbox = element.getBBox();\n    const {\n      x,\n      y,\n      width,\n      height\n    } = bbox;\n    const rootBBox = root.getBBox();\n    pointermove({\n      target: element,\n      offsetX: offsetX !== undefined ? offsetX + rootBBox.x : x + width / 2,\n      offsetY: offsetY !== undefined ? offsetY + rootBBox.y : y + height / 2\n    });\n  };\n  const onTooltipHide = function () {\n    let {\n      nativeEvent\n    } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    if (nativeEvent) return;\n    hideTooltip({\n      root,\n      single,\n      emitter,\n      nativeEvent: false\n    });\n  };\n  const onTooltipDisable = () => {\n    removeEventListeners();\n    destroyTooltip({\n      root,\n      single\n    });\n  };\n  const onTooltipEnable = () => {\n    addEventListeners();\n  };\n  emitter.on('tooltip:show', onTooltipShow);\n  emitter.on('tooltip:hide', onTooltipHide);\n  emitter.on('tooltip:enable', onTooltipEnable);\n  emitter.on('tooltip:disable', onTooltipDisable);\n  addEventListeners();\n  return () => {\n    removeEventListeners();\n    emitter.off('tooltip:show', onTooltipShow);\n    emitter.off('tooltip:hide', onTooltipHide);\n    if (preserve) {\n      hideTooltip({\n        root,\n        single,\n        emitter,\n        nativeEvent: false\n      });\n    } else {\n      destroyTooltip({\n        root,\n        single\n      });\n    }\n  };\n}\nexport function Tooltip(options) {\n  const {\n      shared,\n      crosshairs,\n      crosshairsX,\n      crosshairsY,\n      series,\n      name,\n      item = () => ({}),\n      facet = false\n    } = options,\n    rest = __rest(options, [\"shared\", \"crosshairs\", \"crosshairsX\", \"crosshairsY\", \"series\", \"name\", \"item\", \"facet\"]);\n  return (target, viewInstances, emitter) => {\n    const {\n      container,\n      view\n    } = target;\n    const {\n      scale,\n      markState,\n      coordinate,\n      theme\n    } = view;\n    // Get default value from mark states.\n    const defaultSeries = interactionKeyof(markState, 'seriesTooltip');\n    const defaultShowCrosshairs = interactionKeyof(markState, 'crosshairs');\n    const plotArea = selectPlotArea(container);\n    const isSeries = maybeValue(series, defaultSeries);\n    const crosshairsSetting = maybeValue(crosshairs, defaultShowCrosshairs);\n    // For non-facet and series tooltip.\n    if (isSeries && hasSeries(markState) && !facet) {\n      return seriesTooltip(plotArea, Object.assign(Object.assign({}, rest), {\n        theme,\n        elements: selectG2Elements,\n        scale,\n        coordinate,\n        crosshairs: crosshairsSetting,\n        // the crosshairsX settings level: crosshairsX > crosshairs > false\n        // it means crosshairsX default is false\n        crosshairsX: maybeValue(maybeValue(crosshairsX, crosshairs), false),\n        // crosshairsY default depend on the crossharisSettings\n        crosshairsY: maybeValue(crosshairsY, crosshairsSetting),\n        item,\n        emitter\n      }));\n    }\n    // For facet and series tooltip.\n    if (isSeries && facet) {\n      // Get sub view instances for this view.\n      const facetInstances = viewInstances.filter(d => d !== target && d.options.parentKey === target.options.key);\n      const elements = selectFacetG2Elements(target, viewInstances);\n      // Use the scale of the first view.\n      const scale = facetInstances[0].view.scale;\n      const bbox = plotArea.getBounds();\n      const startX = bbox.min[0];\n      const startY = bbox.min[1];\n      Object.assign(scale, {\n        facet: true\n      });\n      // @todo Nested structure rather than flat structure for facet?\n      // Add listener to the root area.\n      // @ts-ignore\n      return seriesTooltip(plotArea.parentNode.parentNode, Object.assign(Object.assign({}, rest), {\n        theme,\n        elements: () => elements,\n        scale,\n        coordinate,\n        crosshairs: maybeValue(crosshairs, defaultShowCrosshairs),\n        // the crosshairsX settings level: crosshairsX > crosshairs > false\n        // it means crosshairsX default is false\n        crosshairsX: maybeValue(maybeValue(crosshairsX, crosshairs), false),\n        crosshairsY: maybeValue(crosshairsY, crosshairsSetting),\n        item,\n        startX,\n        startY,\n        emitter\n      }));\n    }\n    return tooltip(plotArea, Object.assign(Object.assign({}, rest), {\n      datum: createDatumof(view),\n      elements: selectG2Elements,\n      scale,\n      coordinate,\n      groupKey: shared ? createXKey(view) : undefined,\n      item,\n      emitter,\n      view,\n      theme,\n      shared\n    }));\n  };\n}\nTooltip.props = {\n  reapplyWhenUpdate: true\n};","map":{"version":3,"names":["Circle","Line","sort","group","mean","bisector","minIndex","deepMix","lowerFirst","throttle","Tooltip","TooltipComponent","Constant","Band","defined","subObject","isTranspose","isPolar","angle","sub","dist","invert","selectG2Elements","createXKey","selectPlotArea","mousePosition","selectFacetG2Elements","createDatumof","selectElementByData","bboxOf","maybeRoot","dataOf","getContainer","mount","document","querySelector","canvas","ownerDocument","defaultView","getContextService","getDomElement","parentElement","getBounding","root","bbox","getRenderBounds","min","x1","y1","max","x2","y2","x","y","width","height","getContainerOffset","container1","container2","r1","getBoundingClientRect","r2","createTooltip","container","x0","y0","position","enterable","bounding","containerOffset","css","arguments","length","undefined","offset","defaults","overflow","tooltipElement","className","style","data","title","template","prefixCls","appendChild","HTMLTooltipElement","showTooltip","_ref","render","event","single","canvasContainer","parent","b","items","update","Object","assign","content","hideTooltip","_ref2","emitter","nativeEvent","emit","hide","clientX","clientY","hideRuleY","hideRuleX","hideMarker","destroyTooltip","_ref3","destroy","showUndefined","item","value","singleItem","element","__data__","datum","newItems","filter","map","_a","color","itemColorOf","__rest","groupNameOf","scale","scaleColor","series","scaleSeries","facet","invertAble","cloned","clone","name","Array","isArray","fill","getAttribute","stroke","unique","key","d","valueName","Map","from","values","groupItems","elements","groupName","theme","Date","T","flatMap","i","definedItems","useGroupName","name1","join","updateRuleX","points","mouse","plotWidth","plotHeight","mainWidth","mainHeight","startX","startY","transposed","polar","insetLeft","insetTop","rest","lineWidth","strokeOpacity","createCircle","cx","cy","r","circle","createLine","line","minDistPoint","dists","p","minDistIndex","target","pointsOf","pointsOfPolar","cdist","ruleX","updateRuleY","Y","X","Math","a","cos","sin","ruleY","remove","updateMarker","_ref4","markers","forEach","type","point","originColor","shape","marker","interactionKeyof","markState","some","interaction","maybeValue","specified","isEmptyTooltipData","hasSeries","seriesTooltip","tooltip","elementsof","sortFunction","filterFunction","coordinate","crosshairs","crosshairsX","crosshairsY","wait","leading","trailing","body","disableNative","preserve","_style","innerWidth","innerHeight","getOptions","seriesElements","itemElements","seriesX","push","inInterval","markType","isBar","every","xof","isBandScale","getBandWidth","closest","index","minY","getBounds","extent","getLocalBounds","minA","maxA","minB","maxB","midA","midB","elementSortedX","seriesIndex","_","sortedIndex","scaleX","offsetX","abstractX","focus","normalizedX","indexByFocus","I","_x","finalX","DX","minX","maxX","isOnlyOneElement","search","center","elementsByFocus","find","groups","selected","get","filtered","seriesData","fromEntries","entries","_ref5","startsWith","_ref6","V","replace","selectedItems","selectedSeriesElements","selectedSeriesData","SX","Set","closestX","abs","filteredSeriesData","selectedData","selectedElements","tooltipData","ruleStyle","ruleStyleX","ruleStyleY","markerStyles","firstX","transformedX","onTooltipShow","offsetY","_b","rootBounds","onTooltipHide","onTooltipDisable","removeEventListeners","onTooltipEnable","addEventListeners","addEventListener","e","removeEventListener","on","off","_ref7","groupKey","view","shared","keyGroup","bandWidth","call","seriesCount","round","valueBandWidth","findElementByTarget","node","classList","includes","findElement","isGrouped","pointermove","k","pointerleave","_ref8","raw","getBBox","rootBBox","options","viewInstances","defaultSeries","defaultShowCrosshairs","plotArea","isSeries","crosshairsSetting","facetInstances","parentKey","parentNode","props","reapplyWhenUpdate"],"sources":["interaction/tooltip.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}