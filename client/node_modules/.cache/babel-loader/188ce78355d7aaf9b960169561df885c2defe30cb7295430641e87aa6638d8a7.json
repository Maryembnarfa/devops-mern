{"ast":null,"code":"import { deepMix } from '@antv/util';\nimport { column, columnOf } from './utils/helper';\nimport { rangeOf, interpolate } from './jitter';\n/**\n * The JitterY transform produce dy channels for marks (especially for point)\n * with ordinal x and y dimension, say to make them jitter in their own space.\n */\nexport const JitterY = function () {\n  let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  const {\n    padding = 0,\n    random = Math.random\n  } = options;\n  return (I, mark) => {\n    const {\n      encode,\n      scale\n    } = mark;\n    const {\n      y: scaleY\n    } = scale;\n    const [Y] = columnOf(encode, 'y');\n    const rangeY = rangeOf(Y, scaleY, padding);\n    const DY = I.map(() => interpolate(random(), ...rangeY));\n    return [I, deepMix({\n      scale: {\n        y: {\n          padding: 0.5\n        }\n      }\n    }, mark, {\n      encode: {\n        dy: column(DY)\n      }\n    })];\n  };\n};\nJitterY.props = {};","map":{"version":3,"names":["deepMix","column","columnOf","rangeOf","interpolate","JitterY","options","arguments","length","undefined","padding","random","Math","I","mark","encode","scale","y","scaleY","Y","rangeY","DY","map","dy","props"],"sources":["transform/jitterY.ts"],"sourcesContent":[null],"mappings":"AAAA,SAASA,OAAO,QAAQ,YAAY;AAGpC,SAASC,MAAM,EAAEC,QAAQ,QAAQ,gBAAgB;AACjD,SAASC,OAAO,EAAEC,WAAW,QAAQ,UAAU;AAI/C;;;;AAIA,OAAO,MAAMC,OAAO,GAAuB,SAAAA,CAAA,EAAiB;EAAA,IAAhBC,OAAO,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,EAAE;EACtD,MAAM;IAAEG,OAAO,GAAG,CAAC;IAAEC,MAAM,GAAGC,IAAI,CAACD;EAAM,CAAE,GAAGL,OAAO;EACrD,OAAO,CAACO,CAAC,EAAEC,IAAI,KAAI;IACjB,MAAM;MAAEC,MAAM;MAAEC;IAAK,CAAE,GAAGF,IAAI;IAC9B,MAAM;MAAEG,CAAC,EAAEC;IAAM,CAAE,GAAGF,KAAK;IAC3B,MAAM,CAACG,CAAC,CAAC,GAAGjB,QAAQ,CAACa,MAAM,EAAE,GAAG,CAAC;IACjC,MAAMK,MAAM,GAAGjB,OAAO,CAACgB,CAAC,EAAED,MAAM,EAAER,OAAO,CAAC;IAC1C,MAAMW,EAAE,GAAGR,CAAC,CAACS,GAAG,CAAC,MAAMlB,WAAW,CAACO,MAAM,EAAE,EAAE,GAAGS,MAAM,CAAC,CAAC;IACxD,OAAO,CACLP,CAAC,EACDb,OAAO,CAAC;MAAEgB,KAAK,EAAE;QAAEC,CAAC,EAAE;UAAEP,OAAO,EAAE;QAAG;MAAE;IAAE,CAAE,EAAEI,IAAI,EAAE;MAChDC,MAAM,EAAE;QAAEQ,EAAE,EAAEtB,MAAM,CAACoB,EAAE;MAAC;KACzB,CAAC,CACH;EACH,CAAC;AACH,CAAC;AAEDhB,OAAO,CAACmB,KAAK,GAAG,EAAE","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}